# Production Environment Configuration Template
# These values MUST be stored in AWS Secrets Manager
# DO NOT commit actual values to Git
# NEVER use default or example values in production

# Environment
NODE_ENV=production
PORT=3001

# JWT Secret (retrieve from AWS Secrets Manager)
# Generate with: openssl rand -base64 32
JWT_SECRET={{resolve:secretsmanager:bankapp/prod/jwt-secret}}

# Database Configuration (Production - RDS PostgreSQL Multi-AZ)
DB_DIALECT=postgres
DB_HOST={{resolve:secretsmanager:bankapp/prod/db-host}}
DB_PORT=5432
DB_NAME=bankapp_prod
DB_USER={{resolve:secretsmanager:bankapp/prod/db-user}}
DB_PASSWORD={{resolve:secretsmanager:bankapp/prod/db-password}}
DB_SSL=true
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_IDLE_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=5000

# Read Replica (optional for read-heavy queries)
DB_READ_REPLICA_HOST={{resolve:secretsmanager:bankapp/prod/db-read-replica-host}}

# AWS Configuration
AWS_REGION=us-east-1

# Frontend URL (for CORS)
FRONTEND_URL=https://bankapp.example.com

# API Configuration
API_RATE_LIMIT=500
API_TIMEOUT=30000
API_REQUEST_SIZE_LIMIT=1mb

# Logging
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_RETENTION_DAYS=30

# External APIs
YAHOO_FINANCE_API_KEY={{resolve:secretsmanager:bankapp/prod/yahoo-api-key}}
COINGECKO_API_KEY={{resolve:secretsmanager:bankapp/prod/coingecko-api-key}}

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_GOALS=true
ENABLE_CRYPTO=true
ENABLE_STOCKS=true

# Session Configuration
SESSION_SECRET={{resolve:secretsmanager:bankapp/prod/session-secret}}
SESSION_TIMEOUT=1800000
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict

# Security
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=3
LOCKOUT_DURATION=1800000
ENABLE_RATE_LIMITING=true
ENABLE_HELMET=true
ENABLE_CORS_WHITELIST=true

# Monitoring and Observability
ENABLE_XRAY=true
ENABLE_CLOUDWATCH_METRICS=true
ENABLE_CLOUDWATCH_LOGS=true
ENABLE_PERFORMANCE_MONITORING=true

# Development Tools (DISABLED in production)
ENABLE_SWAGGER=false
ENABLE_DEBUG_ROUTES=false

# Cache Configuration (if using ElastiCache Redis)
# REDIS_HOST={{resolve:secretsmanager:bankapp/prod/redis-host}}
# REDIS_PORT=6379
# REDIS_PASSWORD={{resolve:secretsmanager:bankapp/prod/redis-password}}
# CACHE_TTL=3600

# Email/Notifications (if using SES)
# EMAIL_FROM=noreply@bankapp.example.com
# AWS_SES_REGION=us-east-1

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=35

# Compliance
DATA_ENCRYPTION_AT_REST=true
DATA_ENCRYPTION_IN_TRANSIT=true
AUDIT_LOGGING_ENABLED=true
